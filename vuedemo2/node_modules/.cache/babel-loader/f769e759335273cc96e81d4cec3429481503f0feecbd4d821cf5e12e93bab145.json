{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport gantt from 'dhtmlx-gantt';\nimport 'dhtmlx-gantt/codebase/dhtmlxgantt.css';\nexport default {\n  name: 'GanttTest',\n  data() {\n    return {\n      viewMode: 'workpoint',\n      // workpoint | team | process\n      makespan: 0,\n      taskCount: 0,\n      // Êñ∞Â¢ûÔºöÂéÜÂè≤ÁªìÊûúÂàóË°®\n      scheduleResultList: [],\n      // Êñ∞Â¢ûÔºöÂΩìÂâçÈÄâ‰∏≠ÁöÑË°®Âêç\n      selectedTableName: '',\n      // Êñ∞Â¢ûÔºöÂä†ËΩΩÁä∂ÊÄÅ\n      loading: false,\n      // ‰øÆÊîπÔºötestScheduleData ÂàùÂßã‰∏∫Á©∫Ôºå‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩ\n      testScheduleData: [],\n      // Âõ¢ÈòüÈ¢úËâ≤Êò†Â∞Ñ\n      teamColors: {\n        'team1': '#FF6B35',\n        // È≤úÊ©ôËâ≤\n        'team2': '#EF3950',\n        // È≤úÁ∫¢Ëâ≤\n        'team3': '#507EF7',\n        // È≤úËìùËâ≤\n        'team4': '#9B59B6',\n        // Á¥´ÁΩóÂÖ∞Ëâ≤\n        'team5': '#00B774',\n        // È≤úÁªøËâ≤\n        'team6': '#F39C12' // ÈáëÊ©ôËâ≤\n      },\n      // Âõ¢ÈòüÂêçÁß∞\n      teamNames: {\n        'team1': 'Âõ¢Èòü1',\n        'team2': 'Âõ¢Èòü2',\n        'team3': 'Âõ¢Èòü3',\n        'team4': 'Âõ¢Èòü4',\n        'team5': 'Âõ¢Èòü5',\n        'team6': 'Âõ¢Èòü6'\n      }\n    };\n  },\n  mounted() {\n    this.initGantt();\n    // ‰øÆÊîπÔºö‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÂéÜÂè≤ÁªìÊûú\n    this.loadScheduleResultList();\n  },\n  beforeDestroy() {\n    if (gantt.$initialized) {\n      gantt.clearAll();\n    }\n  },\n  methods: {\n    /**\n     * Âä†ËΩΩË∞ÉÂ∫¶ÁªìÊûúÂàóË°®\n     */\n    async loadScheduleResultList() {\n      this.loading = true;\n      try {\n        console.log('üìã ÂºÄÂßãÂä†ËΩΩË∞ÉÂ∫¶ÁªìÊûúÂàóË°®...');\n        const response = await this.$axios.get(this.$httpUrl + '/schedule_results/list?limit=50');\n\n        // Ê£ÄÊü•ÂìçÂ∫îÊï∞ÊçÆÊòØÂê¶Â≠òÂú®\n        if (!response || !response.data) {\n          this.$message.error('ÊúçÂä°Âô®ÂìçÂ∫îÂºÇÂ∏∏');\n          return;\n        }\n        if (response.data.code === 200) {\n          this.scheduleResultList = response.data.data || [];\n          console.log(`‚úÖ Âä†ËΩΩÊàêÂäüÔºåÂÖ± ${this.scheduleResultList.length} ‰∏™Ë∞ÉÂ∫¶ÁªìÊûú`);\n\n          // ÈªòËÆ§ÈÄâÊã©ÊúÄÊñ∞ÁöÑ\n          if (this.scheduleResultList.length > 0) {\n            this.selectedTableName = this.scheduleResultList[0].tableName;\n            await this.loadScheduleData(this.selectedTableName);\n          } else {\n            this.$message.warning('ÊöÇÊó†Ë∞ÉÂ∫¶ÁªìÊûúÔºåËØ∑ÂÖàËøêË°åÁÆóÊ≥ï');\n          }\n        } else {\n          const errorMsg = response.data.msg || 'Êú™Áü•ÈîôËØØ';\n          this.$message.error('Âä†ËΩΩË∞ÉÂ∫¶ÁªìÊûúÂàóË°®Â§±Ë¥•: ' + errorMsg);\n        }\n      } catch (error) {\n        // ËØ¶ÁªÜÁöÑÈîôËØØÊó•Âøó\n        if (error.response) {\n          // ÊúçÂä°Âô®ËøîÂõû‰∫ÜÈîôËØØÁä∂ÊÄÅÁ†Å\n          console.error('ÊúçÂä°Âô®ÈîôËØØ:', error.response.status, error.response.data);\n          this.$message.error(`ÊúçÂä°Âô®ÈîôËØØ: ${error.response.status}`);\n        } else if (error.request) {\n          // ËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅ‰ΩÜÊ≤°ÊúâÊî∂Âà∞ÂìçÂ∫î\n          console.error('ÁΩëÁªúÈîôËØØ:', error.request);\n          this.$message.error('ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°ÊòØÂê¶ÂêØÂä®');\n        } else {\n          // ÂÖ∂‰ªñÈîôËØØ\n          console.error('Êú™Áü•ÈîôËØØ:', error.message);\n          this.$message.error('Âä†ËΩΩÂ§±Ë¥•: ' + error.message);\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n    /**\n     * Âä†ËΩΩÊåáÂÆöË°®ÁöÑË∞ÉÂ∫¶Êï∞ÊçÆ\n     */\n    async loadScheduleData(tableName) {\n      if (!tableName) {\n        console.warn('‚ö†Ô∏è  Ë°®Âêç‰∏∫Á©∫ÔºåÊó†Ê≥ïÂä†ËΩΩÊï∞ÊçÆ');\n        return;\n      }\n      this.loading = true;\n      try {\n        console.log(`üìñ Âä†ËΩΩË∞ÉÂ∫¶Êï∞ÊçÆ: ${tableName}`);\n        const response = await this.$axios.get(`${this.$httpUrl}/schedule_results/${tableName}`);\n\n        // Ê£ÄÊü•ÂìçÂ∫îÊï∞ÊçÆÊòØÂê¶Â≠òÂú®\n        if (!response || !response.data) {\n          this.$message.error('ÊúçÂä°Âô®ÂìçÂ∫îÂºÇÂ∏∏');\n          return;\n        }\n        if (response.data.code === 200) {\n          this.testScheduleData = response.data.data || [];\n          this.taskCount = this.testScheduleData.length;\n\n          // ËÆ°ÁÆóÂÆåÂ∑•Êó∂Èó¥\n          if (this.testScheduleData.length > 0) {\n            this.makespan = Math.max(...this.testScheduleData.map(t => t.end));\n          } else {\n            this.makespan = 0;\n          }\n          console.log(`‚úÖ Âä†ËΩΩÊàêÂäü: ${this.taskCount} ‰∏™‰ªªÂä°, ÂÆåÂ∑•Êó∂Èó¥: ${this.makespan.toFixed(2)}h`);\n\n          // ÈáçÊñ∞Âä†ËΩΩÁîòÁâπÂõæ\n          this.loadData();\n          this.$message.success(`Ë∞ÉÂ∫¶Êï∞ÊçÆÂä†ËΩΩÊàêÂäü (${this.taskCount}‰∏™‰ªªÂä°)`);\n        } else {\n          const errorMsg = response.data.msg || 'Êú™Áü•ÈîôËØØ';\n          this.$message.error('Âä†ËΩΩË∞ÉÂ∫¶Êï∞ÊçÆÂ§±Ë¥•: ' + errorMsg);\n        }\n      } catch (error) {\n        // ËØ¶ÁªÜÁöÑÈîôËØØÊó•Âøó\n        if (error.response) {\n          console.error('ÊúçÂä°Âô®ÈîôËØØ:', error.response.status, error.response.data);\n          this.$message.error(`ÊúçÂä°Âô®ÈîôËØØ: ${error.response.status}`);\n        } else if (error.request) {\n          console.error('ÁΩëÁªúÈîôËØØ:', error.request);\n          this.$message.error('ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°ÊòØÂê¶ÂêØÂä®');\n        } else {\n          console.error('Êú™Áü•ÈîôËØØ:', error.message);\n          this.$message.error('Âä†ËΩΩÂ§±Ë¥•: ' + error.message);\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n    /**\n     * Â§ÑÁêÜ‰∏ãÊãâÊ°ÜÈÄâÊã©ÂèòÂåñ\n     */\n    handleTableChange(tableName) {\n      console.log(`üîÑ ÂàáÊç¢Ë∞ÉÂ∫¶ÁªìÊûú: ${tableName}`);\n      this.loadScheduleData(tableName);\n    },\n    /**\n     * Âà∑Êñ∞Ë∞ÉÂ∫¶ÁªìÊûúÂàóË°®\n     */\n    refreshScheduleList() {\n      console.log('üîÑ Âà∑Êñ∞Ë∞ÉÂ∫¶ÁªìÊûúÂàóË°®');\n      this.loadScheduleResultList();\n    },\n    /**\n     * ÂàùÂßãÂåñDHTMLX Gantt\n     */\n    initGantt() {\n      // ‰∏≠ÊñáÊú¨Âú∞ÂåñÈÖçÁΩÆ\n      gantt.i18n.setLocale({\n        date: {\n          month_full: [\"‰∏ÄÊúà\", \"‰∫åÊúà\", \"‰∏âÊúà\", \"ÂõõÊúà\", \"‰∫îÊúà\", \"ÂÖ≠Êúà\", \"‰∏ÉÊúà\", \"ÂÖ´Êúà\", \"‰πùÊúà\", \"ÂçÅÊúà\", \"ÂçÅ‰∏ÄÊúà\", \"ÂçÅ‰∫åÊúà\"],\n          month_short: [\"1Êúà\", \"2Êúà\", \"3Êúà\", \"4Êúà\", \"5Êúà\", \"6Êúà\", \"7Êúà\", \"8Êúà\", \"9Êúà\", \"10Êúà\", \"11Êúà\", \"12Êúà\"],\n          day_full: [\"ÊòüÊúüÊó•\", \"ÊòüÊúü‰∏Ä\", \"ÊòüÊúü‰∫å\", \"ÊòüÊúü‰∏â\", \"ÊòüÊúüÂõõ\", \"ÊòüÊúü‰∫î\", \"ÊòüÊúüÂÖ≠\"],\n          day_short: [\"Êó•\", \"‰∏Ä\", \"‰∫å\", \"‰∏â\", \"Âõõ\", \"‰∫î\", \"ÂÖ≠\"]\n        },\n        labels: {\n          new_task: \"Êñ∞‰ªªÂä°\",\n          icon_save: \"‰øùÂ≠ò\",\n          icon_cancel: \"ÂèñÊ∂à\",\n          icon_details: \"ËØ¶ÊÉÖ\",\n          icon_edit: \"ÁºñËæë\",\n          icon_delete: \"Âà†Èô§\",\n          confirm_closing: \"\",\n          confirm_deleting: \"Á°ÆÂÆöÂà†Èô§‰ªªÂä°ÂêóÔºü\",\n          section_description: \"ÊèèËø∞\",\n          section_time: \"Êó∂Èó¥\",\n          section_type: \"Á±ªÂûã\",\n          // ÂºπÁ™óÊåâÈíÆ\n          button_save: \"‰øùÂ≠ò\",\n          button_cancel: \"ÂèñÊ∂à\",\n          button_delete: \"Âà†Èô§\"\n        }\n      });\n\n      // Âü∫Á°ÄÈÖçÁΩÆ\n      gantt.config.date_format = '%Y-%m-%d %H:%i';\n      gantt.config.xml_date = '%Y-%m-%d %H:%i';\n      gantt.config.scale_unit = 'day';\n      gantt.config.date_scale = '%Y-%m-%d';\n      gantt.config.subscales = [{\n        unit: 'hour',\n        step: 12,\n        date: '%H:%i'\n      }];\n\n      // ÂàóÈÖçÁΩÆ\n      gantt.config.columns = [{\n        name: 'text',\n        label: '‰ªªÂä°ÂêçÁß∞',\n        width: 200,\n        tree: true\n      }, {\n        name: 'start_date',\n        label: 'ÂºÄÂßãÊó∂Èó¥',\n        width: 100,\n        align: 'center'\n      }, {\n        name: 'duration',\n        label: 'ÊåÅÁª≠Êó∂Èó¥',\n        width: 80,\n        align: 'center'\n      }];\n\n      // Â∑•ÂÖ∑ÊèêÁ§∫ÈÖçÁΩÆ\n      gantt.config.tooltip_hide_timeout = 1000;\n      gantt.templates.tooltip_text = (start, end, task) => {\n        if (task.type === 'project') return '';\n        const duration = ((task.end_date - task.start_date) / (1000 * 60 * 60)).toFixed(1);\n        return `\n          <div style=\"padding: 10px; min-width: 200px;\">\n            <strong style=\"font-size: 14px;\">${task.text}</strong><br/>\n            <hr style=\"margin: 5px 0; border: none; border-top: 1px solid #ddd;\"/>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">ÂºÄÂßãÊó∂Èó¥Ôºö</span>\n              <strong>${this.formatDate(task.start_date)}</strong>\n            </div>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">ÁªìÊùüÊó∂Èó¥Ôºö</span>\n              <strong>${this.formatDate(task.end_date)}</strong>\n            </div>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">ÊåÅÁª≠Êó∂Èó¥Ôºö</span>\n              <strong>${duration}Â∞èÊó∂</strong>\n            </div>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">Âõ¢ÈòüÔºö</span>\n              <strong>${task.teamName || ''}</strong>\n            </div>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">Â∑•‰∫∫Êï∞Ôºö</span>\n              <strong>${task.workers || 0}‰∫∫</strong>\n            </div>\n          </div>\n        `;\n      };\n\n      // ‰ªªÂä°È¢úËâ≤ÈÖçÁΩÆ\n      gantt.templates.task_class = (start, end, task) => {\n        if (task.type === 'project') return 'gantt_project';\n        return `gantt_task_${task.team}`;\n      };\n\n      // ÂàùÂßãÂåñ\n      gantt.init(this.$refs.ganttContainer);\n      console.log('‚úÖ DHTMLX Gantt ÂàùÂßãÂåñÂÆåÊàê');\n    },\n    /**\n     * Âä†ËΩΩÊï∞ÊçÆ\n     */\n    loadData() {\n      let ganttData;\n      switch (this.viewMode) {\n        case 'workpoint':\n          ganttData = this.prepareWorkpointView();\n          break;\n        case 'team':\n          ganttData = this.prepareTeamView();\n          break;\n        case 'process':\n          ganttData = this.prepareProcessView();\n          break;\n        default:\n          ganttData = this.prepareWorkpointView();\n      }\n      gantt.clearAll();\n      gantt.parse(ganttData);\n      console.log(`‚úÖ Âä†ËΩΩ${this.viewMode}ËßÜËßíÊï∞ÊçÆÔºåÂÖ±${ganttData.data.length}Êù°`);\n    },\n    /**\n     * Êó∂Èó¥Âçï‰ΩçËΩ¨Êó•Êúü\n     */\n    timeUnitToDate(timeUnit) {\n      const baseDate = new Date('2024-01-01T00:00:00');\n      const hours = timeUnit;\n      baseDate.setHours(baseDate.getHours() + hours);\n      return baseDate;\n    },\n    /**\n     * Ê†ºÂºèÂåñÊó•Êúü\n     */\n    formatDate(date) {\n      if (typeof date === 'string') {\n        date = new Date(date);\n      }\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    /**\n     * Ê£ÄÊµãÂπ∂Ë°å‰ªªÂä°ÔºàÂ§çÁî®‰πãÂâçÁöÑÈÄªËæëÔºâ\n     */\n    detectParallelTasks(tasks) {\n      if (!tasks || tasks.length === 0) return [];\n      const sorted = [...tasks].sort((a, b) => a.start - b.start);\n      const layers = [];\n      const result = [];\n      sorted.forEach(task => {\n        let layerIndex = layers.findIndex(endTime => task.start >= endTime);\n        if (layerIndex === -1) {\n          layerIndex = layers.length;\n          layers.push(task.end);\n        } else {\n          layers[layerIndex] = task.end;\n        }\n        result.push({\n          ...task,\n          layer: layerIndex,\n          totalLayers: 0\n        });\n      });\n      const maxLayer = Math.max(...result.map(t => t.layer));\n      result.forEach(t => t.totalLayers = maxLayer + 1);\n      return result;\n    },\n    /**\n     * ÂáÜÂ§áËÆæÂ§áËßÜËßíÊï∞ÊçÆ\n     */\n    prepareWorkpointView() {\n      const data = [];\n      const links = [];\n\n      // ÊåâËÆæÂ§áÂàÜÁªÑ\n      const grouped = {};\n      this.testScheduleData.forEach(task => {\n        const wpId = task.workpoint_id;\n        if (!grouped[wpId]) {\n          grouped[wpId] = [];\n        }\n        grouped[wpId].push(task);\n      });\n\n      // ÁîüÊàêDHTMLXÊï∞ÊçÆ\n      Object.keys(grouped).sort().forEach(wpId => {\n        const wpTasks = grouped[wpId];\n        const wpName = wpTasks[0].workpoint_name;\n\n        // ËΩ¨Êç¢ÊòæÁ§∫ÂêçÁß∞ÔºöÂ∑•‰ΩúÁÇπX -> ËÆæÂ§áX\n        const displayName = wpName.replace('Â∑•‰ΩúÁÇπ', 'ËÆæÂ§á');\n\n        // Ê∑ªÂä†Áà∂ËäÇÁÇπÔºàËÆæÂ§áÔºâ\n        data.push({\n          id: wpId,\n          text: displayName,\n          type: 'project',\n          open: true\n        });\n\n        // Ê£ÄÊµãÂπ∂Ë°å‰ªªÂä°\n        const layered = this.detectParallelTasks(wpTasks);\n\n        // Ê∑ªÂä†‰ªªÂä°\n        layered.forEach(task => {\n          data.push({\n            id: `task_${task.id}`,\n            text: task.name,\n            start_date: this.formatGanttDate(this.timeUnitToDate(task.start)),\n            end_date: this.formatGanttDate(this.timeUnitToDate(task.end)),\n            duration: ((task.end - task.start) / 24).toFixed(1),\n            // ËΩ¨Êç¢‰∏∫Â§©\n            parent: wpId,\n            team: task.team,\n            teamName: this.teamNames[task.team],\n            workers: task.workers,\n            layer: task.layer,\n            type: 'task'\n          });\n        });\n      });\n      return {\n        data,\n        links\n      };\n    },\n    /**\n     * ÂáÜÂ§áÂõ¢ÈòüËßÜËßíÊï∞ÊçÆ\n     */\n    prepareTeamView() {\n      const data = [];\n      const links = [];\n\n      // ÊåâÂõ¢ÈòüÂàÜÁªÑ\n      const grouped = {};\n      this.testScheduleData.forEach(task => {\n        const team = task.team;\n        if (!grouped[team]) {\n          grouped[team] = [];\n        }\n        grouped[team].push(task);\n      });\n\n      // ÁîüÊàêDHTMLXÊï∞ÊçÆ\n      Object.keys(grouped).sort().forEach(team => {\n        const teamTasks = grouped[team];\n        const teamName = this.teamNames[team];\n\n        // Ê∑ªÂä†Áà∂ËäÇÁÇπÔºàÂõ¢ÈòüÔºâ\n        data.push({\n          id: team,\n          text: teamName,\n          type: 'project',\n          open: true\n        });\n\n        // Ê£ÄÊµãÂπ∂Ë°å‰ªªÂä°\n        const layered = this.detectParallelTasks(teamTasks);\n\n        // Ê∑ªÂä†‰ªªÂä°\n        layered.forEach(task => {\n          data.push({\n            id: `task_${task.id}`,\n            text: task.name,\n            start_date: this.formatGanttDate(this.timeUnitToDate(task.start)),\n            end_date: this.formatGanttDate(this.timeUnitToDate(task.end)),\n            duration: ((task.end - task.start) / 24).toFixed(1),\n            parent: team,\n            team: task.team,\n            teamName: this.teamNames[task.team],\n            workers: task.workers,\n            layer: task.layer,\n            type: 'task'\n          });\n        });\n      });\n      return {\n        data,\n        links\n      };\n    },\n    /**\n     * ÂáÜÂ§áÂ∑•Â∫èËßÜËßíÊï∞ÊçÆ\n     */\n    prepareProcessView() {\n      const data = [];\n      const links = [];\n\n      // ÊåâÂºÄÂßãÊó∂Èó¥ÊéíÂ∫è\n      const sorted = [...this.testScheduleData].sort((a, b) => a.start - b.start);\n      sorted.forEach(task => {\n        data.push({\n          id: `task_${task.id}`,\n          text: task.name,\n          start_date: this.formatGanttDate(this.timeUnitToDate(task.start)),\n          end_date: this.formatGanttDate(this.timeUnitToDate(task.end)),\n          duration: ((task.end - task.start) / 24).toFixed(1),\n          team: task.team,\n          teamName: this.teamNames[task.team],\n          workers: task.workers,\n          type: 'task'\n        });\n      });\n      return {\n        data,\n        links\n      };\n    },\n    /**\n     * Ê†ºÂºèÂåñDHTMLXÊó•Êúü\n     */\n    formatGanttDate(date) {\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hour = String(date.getHours()).padStart(2, '0');\n      const minute = String(date.getMinutes()).padStart(2, '0');\n      return `${year}-${month}-${day} ${hour}:${minute}`;\n    },\n    /**\n     * ÂàáÊç¢ËßÜËßí\n     */\n    switchView() {\n      this.loadData();\n      this.$message.success(`Â∑≤ÂàáÊç¢Âà∞${this.getViewName()}ËßÜËßí`);\n    },\n    /**\n     * Ëé∑ÂèñËßÜËßíÂêçÁß∞\n     */\n    getViewName() {\n      const names = {\n        'workpoint': 'ËÆæÂ§á',\n        'team': 'Âõ¢Èòü',\n        'process': 'Â∑•Â∫è'\n      };\n      return names[this.viewMode] || 'Êú™Áü•';\n    },\n    /**\n     * ÊîπÂèòÁº©ÊîæÁ∫ßÂà´\n     */\n    changeZoom(scale) {\n      switch (scale) {\n        case 'day':\n          gantt.config.scale_unit = 'day';\n          gantt.config.date_scale = '%Y-%m-%d';\n          gantt.config.subscales = [{\n            unit: 'hour',\n            step: 6,\n            date: '%H:%i'\n          }];\n          break;\n        case 'week':\n          gantt.config.scale_unit = 'week';\n          gantt.config.date_scale = 'Á¨¨%WÂë®';\n          gantt.config.subscales = [{\n            unit: 'day',\n            step: 1,\n            date: '%dÊó•'\n          }];\n          break;\n        case 'month':\n          gantt.config.scale_unit = 'month';\n          gantt.config.date_scale = '%YÂπ¥%mÊúà';\n          gantt.config.subscales = [{\n            unit: 'week',\n            step: 1,\n            date: 'Á¨¨%WÂë®'\n          }];\n          break;\n      }\n      gantt.render();\n      this.$message.success(`Â∑≤ÂàáÊç¢Âà∞${scale}ËßÜÂõæ`);\n    }\n  }\n};","map":{"version":3,"names":["gantt","name","data","viewMode","makespan","taskCount","scheduleResultList","selectedTableName","loading","testScheduleData","teamColors","teamNames","mounted","initGantt","loadScheduleResultList","beforeDestroy","$initialized","clearAll","methods","console","log","response","$axios","get","$httpUrl","$message","error","code","length","tableName","loadScheduleData","warning","errorMsg","msg","status","request","message","warn","Math","max","map","t","end","toFixed","loadData","success","handleTableChange","refreshScheduleList","i18n","setLocale","date","month_full","month_short","day_full","day_short","labels","new_task","icon_save","icon_cancel","icon_details","icon_edit","icon_delete","confirm_closing","confirm_deleting","section_description","section_time","section_type","button_save","button_cancel","button_delete","config","date_format","xml_date","scale_unit","date_scale","subscales","unit","step","columns","label","width","tree","align","tooltip_hide_timeout","templates","tooltip_text","start","task","type","duration","end_date","start_date","text","formatDate","teamName","workers","task_class","team","init","$refs","ganttContainer","ganttData","prepareWorkpointView","prepareTeamView","prepareProcessView","parse","timeUnitToDate","timeUnit","baseDate","Date","hours","setHours","getHours","toLocaleString","year","month","day","hour","minute","detectParallelTasks","tasks","sorted","sort","a","b","layers","result","forEach","layerIndex","findIndex","endTime","push","layer","totalLayers","maxLayer","links","grouped","wpId","workpoint_id","Object","keys","wpTasks","wpName","workpoint_name","displayName","replace","id","open","layered","formatGanttDate","parent","teamTasks","getFullYear","String","getMonth","padStart","getDate","getMinutes","switchView","getViewName","names","changeZoom","scale","render"],"sources":["src/components/user/ScheduleGantt.vue"],"sourcesContent":["<template>\n  <div class=\"gantt-test-container\">\n    <!-- È°µÈù¢Â§¥ÈÉ® -->\n    <div class=\"page-header\">\n      <div class=\"header-content\">\n        <h2 class=\"page-title\">\n          <i class=\"el-icon-date\"></i>\n          DHTMLX Gantt ÊµãËØïÈ°µÈù¢\n        </h2>\n        <p class=\"page-subtitle\">ÊµãËØïÂ§öËÆæÂ§áÂπ∂Ë°å‰ªªÂä°ÁîòÁâπÂõæÊòæÁ§∫ÊïàÊûú</p>\n      </div>\n    </div>\n\n    <!-- Â∑•ÂÖ∑Ê†è -->\n    <div class=\"toolbar-section\">\n      <el-card shadow=\"never\">\n        <div class=\"toolbar-content\">\n          <!-- Êñ∞Â¢ûÔºöÂéÜÂè≤ÁªìÊûúÈÄâÊã© -->\n          <div class=\"result-selector\">\n            <label>ÈÄâÊã©Ë∞ÉÂ∫¶ÁªìÊûúÔºö</label>\n            <el-select \n              v-model=\"selectedTableName\" \n              @change=\"handleTableChange\"\n              placeholder=\"ËØ∑ÈÄâÊã©Ë∞ÉÂ∫¶ÁªìÊûú\"\n              style=\"width: 400px;\"\n              :loading=\"loading\"\n              size=\"small\">\n              <el-option\n                v-for=\"item in scheduleResultList\"\n                :key=\"item.tableName\"\n                :label=\"`${item.createdTime} | ÂÆåÂ∑•Êó∂Èó¥: ${item.makespan}h | ${item.taskCount}‰∏™‰ªªÂä°`\"\n                :value=\"item.tableName\">\n              </el-option>\n            </el-select>\n            <el-button \n              size=\"small\" \n              icon=\"el-icon-refresh\" \n              @click=\"refreshScheduleList\"\n              :loading=\"loading\"\n              style=\"margin-left: 10px;\">\n              Âà∑Êñ∞\n            </el-button>\n          </div>\n          \n          <div class=\"view-switch\">\n            <label>ËßÜËßíÂàáÊç¢Ôºö</label>\n            <el-radio-group v-model=\"viewMode\" @change=\"switchView\" size=\"small\">\n              <el-radio-button label=\"workpoint\">ËÆæÂ§áËßÜËßí</el-radio-button>\n              <el-radio-button label=\"team\">Âõ¢ÈòüËßÜËßí</el-radio-button>\n              <el-radio-button label=\"process\">Â∑•Â∫èËßÜËßí</el-radio-button>\n            </el-radio-group>\n          </div>\n          \n          <div class=\"zoom-controls\">\n            <label>Áº©ÊîæÁ∫ßÂà´Ôºö</label>\n            <el-button-group>\n              <el-button size=\"small\" @click=\"changeZoom('day')\">Â§©</el-button>\n              <el-button size=\"small\" @click=\"changeZoom('week')\">Âë®</el-button>\n              <el-button size=\"small\" @click=\"changeZoom('month')\">Êúà</el-button>\n            </el-button-group>\n          </div>\n\n          <div class=\"info-display\">\n            <el-tag type=\"success\">ÂÆåÂ∑•Êó∂Èó¥: {{ makespan.toFixed(2) }}Â∞èÊó∂</el-tag>\n            <el-tag type=\"info\">‰ªªÂä°Êï∞: {{ taskCount }}</el-tag>\n          </div>\n        </div>\n      </el-card>\n    </div>\n\n    <!-- GanttÂõæË°®ÂÆπÂô® -->\n    <div class=\"gantt-section\">\n      <el-card shadow=\"never\" class=\"gantt-card\">\n        <div ref=\"ganttContainer\" class=\"gantt-container\"></div>\n      </el-card>\n    </div>\n\n    <!-- ËØ¥ÊòéÊñáÊ°£ -->\n    <div class=\"info-section\">\n      <el-card shadow=\"never\">\n        <div slot=\"header\">\n          <span><i class=\"el-icon-info\"></i> ÊµãËØïÊï∞ÊçÆËØ¥Êòé</span>\n        </div>\n        <el-descriptions :column=\"2\" border>\n          <el-descriptions-item label=\"ËÆæÂ§áÊï∞Èáè\">3‰∏™ÔºàËÆæÂ§á1„ÄÅËÆæÂ§á2„ÄÅËÆæÂ§á3Ôºâ</el-descriptions-item>\n          <el-descriptions-item label=\"‰ªªÂä°ÊÄªÊï∞\">{{ taskCount }}‰∏™</el-descriptions-item>\n          <el-descriptions-item label=\"Âõ¢ÈòüÊï∞Èáè\">6‰∏™ÔºàÊû∂Â≠êÁè≠ÁªÑ„ÄÅ‰øùÊ∏©Áè≠ÁªÑÁ≠âÔºâ</el-descriptions-item>\n          <el-descriptions-item label=\"ÂÆåÂ∑•Êó∂Èó¥\">{{ makespan }}Â∞èÊó∂</el-descriptions-item>\n          <el-descriptions-item label=\"Âπ∂Ë°å‰ªªÂä°\">‚úÖ Â∑≤ÂåÖÂê´ÂêåÊó∂ËøõË°åÁöÑ‰ªªÂä°</el-descriptions-item>\n          <el-descriptions-item label=\"Êó∂Èó¥ËåÉÂõ¥\">2024-01-01 Ëá≥ 2024-01-08</el-descriptions-item>\n        </el-descriptions>\n        \n        <div class=\"test-notes\">\n          <h4>üß™ ÊµãËØïË¶ÅÁÇπÔºö</h4>\n          <ul>\n            <li>‚úÖ Êü•ÁúãÂπ∂Ë°å‰ªªÂä°ÊòØÂê¶ÈáçÂè†ÔºàËÆæÂ§á1ÊúâÂ§ö‰∏™ÂêåÊó∂ËøõË°åÁöÑ‰ªªÂä°Ôºâ</li>\n            <li>‚úÖ ÊµãËØï‰∏âÁßçËßÜËßíÂàáÊç¢ÊïàÊûú</li>\n            <li>‚úÖ ÊµãËØïÈº†Ê†áÊÇ¨ÂÅúÊòæÁ§∫ËØ¶ÊÉÖ</li>\n            <li>‚úÖ ÊµãËØïÊó∂Èó¥ËΩ¥Áº©ÊîæÂäüËÉΩ</li>\n            <li>‚úÖ Êü•Áúã‰∏çÂêåÂõ¢ÈòüÁöÑÈ¢úËâ≤Âå∫ÂàÜ</li>\n          </ul>\n        </div>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gantt from 'dhtmlx-gantt';\nimport 'dhtmlx-gantt/codebase/dhtmlxgantt.css';\n\nexport default {\n  name: 'GanttTest',\n  data() {\n    return {\n      viewMode: 'workpoint', // workpoint | team | process\n      makespan: 0,\n      taskCount: 0,\n      \n      // Êñ∞Â¢ûÔºöÂéÜÂè≤ÁªìÊûúÂàóË°®\n      scheduleResultList: [],\n      \n      // Êñ∞Â¢ûÔºöÂΩìÂâçÈÄâ‰∏≠ÁöÑË°®Âêç\n      selectedTableName: '',\n      \n      // Êñ∞Â¢ûÔºöÂä†ËΩΩÁä∂ÊÄÅ\n      loading: false,\n      \n      // ‰øÆÊîπÔºötestScheduleData ÂàùÂßã‰∏∫Á©∫Ôºå‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩ\n      testScheduleData: [],\n      \n      // Âõ¢ÈòüÈ¢úËâ≤Êò†Â∞Ñ\n      teamColors: {\n        'team1': '#FF6B35',  // È≤úÊ©ôËâ≤\n        'team2': '#EF3950',  // È≤úÁ∫¢Ëâ≤\n        'team3': '#507EF7',  // È≤úËìùËâ≤\n        'team4': '#9B59B6',  // Á¥´ÁΩóÂÖ∞Ëâ≤\n        'team5': '#00B774',  // È≤úÁªøËâ≤\n        'team6': '#F39C12'   // ÈáëÊ©ôËâ≤\n      },\n      \n      // Âõ¢ÈòüÂêçÁß∞\n      teamNames: {\n        'team1': 'Âõ¢Èòü1',\n        'team2': 'Âõ¢Èòü2',\n        'team3': 'Âõ¢Èòü3',\n        'team4': 'Âõ¢Èòü4',\n        'team5': 'Âõ¢Èòü5',\n        'team6': 'Âõ¢Èòü6'\n      }\n    };\n  },\n  mounted() {\n    this.initGantt();\n    // ‰øÆÊîπÔºö‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÂéÜÂè≤ÁªìÊûú\n    this.loadScheduleResultList();\n  },\n  beforeDestroy() {\n    if (gantt.$initialized) {\n      gantt.clearAll();\n    }\n  },\n  methods: {\n    /**\n     * Âä†ËΩΩË∞ÉÂ∫¶ÁªìÊûúÂàóË°®\n     */\n    async loadScheduleResultList() {\n      this.loading = true;\n      try {\n        console.log('üìã ÂºÄÂßãÂä†ËΩΩË∞ÉÂ∫¶ÁªìÊûúÂàóË°®...');\n        const response = await this.$axios.get(this.$httpUrl + '/schedule_results/list?limit=50');\n        \n        // Ê£ÄÊü•ÂìçÂ∫îÊï∞ÊçÆÊòØÂê¶Â≠òÂú®\n        if (!response || !response.data) {\n          this.$message.error('ÊúçÂä°Âô®ÂìçÂ∫îÂºÇÂ∏∏');\n          return;\n        }\n        \n        if (response.data.code === 200) {\n          this.scheduleResultList = response.data.data || [];\n          console.log(`‚úÖ Âä†ËΩΩÊàêÂäüÔºåÂÖ± ${this.scheduleResultList.length} ‰∏™Ë∞ÉÂ∫¶ÁªìÊûú`);\n          \n          // ÈªòËÆ§ÈÄâÊã©ÊúÄÊñ∞ÁöÑ\n          if (this.scheduleResultList.length > 0) {\n            this.selectedTableName = this.scheduleResultList[0].tableName;\n            await this.loadScheduleData(this.selectedTableName);\n          } else {\n            this.$message.warning('ÊöÇÊó†Ë∞ÉÂ∫¶ÁªìÊûúÔºåËØ∑ÂÖàËøêË°åÁÆóÊ≥ï');\n          }\n        } else {\n          const errorMsg = response.data.msg || 'Êú™Áü•ÈîôËØØ';\n          this.$message.error('Âä†ËΩΩË∞ÉÂ∫¶ÁªìÊûúÂàóË°®Â§±Ë¥•: ' + errorMsg);\n        }\n      } catch (error) {\n        // ËØ¶ÁªÜÁöÑÈîôËØØÊó•Âøó\n        if (error.response) {\n          // ÊúçÂä°Âô®ËøîÂõû‰∫ÜÈîôËØØÁä∂ÊÄÅÁ†Å\n          console.error('ÊúçÂä°Âô®ÈîôËØØ:', error.response.status, error.response.data);\n          this.$message.error(`ÊúçÂä°Âô®ÈîôËØØ: ${error.response.status}`);\n        } else if (error.request) {\n          // ËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅ‰ΩÜÊ≤°ÊúâÊî∂Âà∞ÂìçÂ∫î\n          console.error('ÁΩëÁªúÈîôËØØ:', error.request);\n          this.$message.error('ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°ÊòØÂê¶ÂêØÂä®');\n        } else {\n          // ÂÖ∂‰ªñÈîôËØØ\n          console.error('Êú™Áü•ÈîôËØØ:', error.message);\n          this.$message.error('Âä†ËΩΩÂ§±Ë¥•: ' + error.message);\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n    \n    /**\n     * Âä†ËΩΩÊåáÂÆöË°®ÁöÑË∞ÉÂ∫¶Êï∞ÊçÆ\n     */\n    async loadScheduleData(tableName) {\n      if (!tableName) {\n        console.warn('‚ö†Ô∏è  Ë°®Âêç‰∏∫Á©∫ÔºåÊó†Ê≥ïÂä†ËΩΩÊï∞ÊçÆ');\n        return;\n      }\n      \n      this.loading = true;\n      try {\n        console.log(`üìñ Âä†ËΩΩË∞ÉÂ∫¶Êï∞ÊçÆ: ${tableName}`);\n        const response = await this.$axios.get(`${this.$httpUrl}/schedule_results/${tableName}`);\n        \n        // Ê£ÄÊü•ÂìçÂ∫îÊï∞ÊçÆÊòØÂê¶Â≠òÂú®\n        if (!response || !response.data) {\n          this.$message.error('ÊúçÂä°Âô®ÂìçÂ∫îÂºÇÂ∏∏');\n          return;\n        }\n        \n        if (response.data.code === 200) {\n          this.testScheduleData = response.data.data || [];\n          this.taskCount = this.testScheduleData.length;\n          \n          // ËÆ°ÁÆóÂÆåÂ∑•Êó∂Èó¥\n          if (this.testScheduleData.length > 0) {\n            this.makespan = Math.max(...this.testScheduleData.map(t => t.end));\n          } else {\n            this.makespan = 0;\n          }\n          \n          console.log(`‚úÖ Âä†ËΩΩÊàêÂäü: ${this.taskCount} ‰∏™‰ªªÂä°, ÂÆåÂ∑•Êó∂Èó¥: ${this.makespan.toFixed(2)}h`);\n          \n          // ÈáçÊñ∞Âä†ËΩΩÁîòÁâπÂõæ\n          this.loadData();\n          \n          this.$message.success(`Ë∞ÉÂ∫¶Êï∞ÊçÆÂä†ËΩΩÊàêÂäü (${this.taskCount}‰∏™‰ªªÂä°)`);\n        } else {\n          const errorMsg = response.data.msg || 'Êú™Áü•ÈîôËØØ';\n          this.$message.error('Âä†ËΩΩË∞ÉÂ∫¶Êï∞ÊçÆÂ§±Ë¥•: ' + errorMsg);\n        }\n      } catch (error) {\n        // ËØ¶ÁªÜÁöÑÈîôËØØÊó•Âøó\n        if (error.response) {\n          console.error('ÊúçÂä°Âô®ÈîôËØØ:', error.response.status, error.response.data);\n          this.$message.error(`ÊúçÂä°Âô®ÈîôËØØ: ${error.response.status}`);\n        } else if (error.request) {\n          console.error('ÁΩëÁªúÈîôËØØ:', error.request);\n          this.$message.error('ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°ÊòØÂê¶ÂêØÂä®');\n        } else {\n          console.error('Êú™Áü•ÈîôËØØ:', error.message);\n          this.$message.error('Âä†ËΩΩÂ§±Ë¥•: ' + error.message);\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n    \n    /**\n     * Â§ÑÁêÜ‰∏ãÊãâÊ°ÜÈÄâÊã©ÂèòÂåñ\n     */\n    handleTableChange(tableName) {\n      console.log(`üîÑ ÂàáÊç¢Ë∞ÉÂ∫¶ÁªìÊûú: ${tableName}`);\n      this.loadScheduleData(tableName);\n    },\n    \n    /**\n     * Âà∑Êñ∞Ë∞ÉÂ∫¶ÁªìÊûúÂàóË°®\n     */\n    refreshScheduleList() {\n      console.log('üîÑ Âà∑Êñ∞Ë∞ÉÂ∫¶ÁªìÊûúÂàóË°®');\n      this.loadScheduleResultList();\n    },\n    \n    /**\n     * ÂàùÂßãÂåñDHTMLX Gantt\n     */\n    initGantt() {\n      // ‰∏≠ÊñáÊú¨Âú∞ÂåñÈÖçÁΩÆ\n      gantt.i18n.setLocale({\n        date: {\n          month_full: [\"‰∏ÄÊúà\", \"‰∫åÊúà\", \"‰∏âÊúà\", \"ÂõõÊúà\", \"‰∫îÊúà\", \"ÂÖ≠Êúà\", \"‰∏ÉÊúà\", \"ÂÖ´Êúà\", \"‰πùÊúà\", \"ÂçÅÊúà\", \"ÂçÅ‰∏ÄÊúà\", \"ÂçÅ‰∫åÊúà\"],\n          month_short: [\"1Êúà\", \"2Êúà\", \"3Êúà\", \"4Êúà\", \"5Êúà\", \"6Êúà\", \"7Êúà\", \"8Êúà\", \"9Êúà\", \"10Êúà\", \"11Êúà\", \"12Êúà\"],\n          day_full: [\"ÊòüÊúüÊó•\", \"ÊòüÊúü‰∏Ä\", \"ÊòüÊúü‰∫å\", \"ÊòüÊúü‰∏â\", \"ÊòüÊúüÂõõ\", \"ÊòüÊúü‰∫î\", \"ÊòüÊúüÂÖ≠\"],\n          day_short: [\"Êó•\", \"‰∏Ä\", \"‰∫å\", \"‰∏â\", \"Âõõ\", \"‰∫î\", \"ÂÖ≠\"]\n        },\n        labels: {\n          new_task: \"Êñ∞‰ªªÂä°\",\n          icon_save: \"‰øùÂ≠ò\",\n          icon_cancel: \"ÂèñÊ∂à\",\n          icon_details: \"ËØ¶ÊÉÖ\",\n          icon_edit: \"ÁºñËæë\",\n          icon_delete: \"Âà†Èô§\",\n          confirm_closing: \"\",\n          confirm_deleting: \"Á°ÆÂÆöÂà†Èô§‰ªªÂä°ÂêóÔºü\",\n          section_description: \"ÊèèËø∞\",\n          section_time: \"Êó∂Èó¥\",\n          section_type: \"Á±ªÂûã\",\n          \n          // ÂºπÁ™óÊåâÈíÆ\n          button_save: \"‰øùÂ≠ò\",\n          button_cancel: \"ÂèñÊ∂à\",\n          button_delete: \"Âà†Èô§\"\n        }\n      });\n      \n      // Âü∫Á°ÄÈÖçÁΩÆ\n      gantt.config.date_format = '%Y-%m-%d %H:%i';\n      gantt.config.xml_date = '%Y-%m-%d %H:%i';\n      gantt.config.scale_unit = 'day';\n      gantt.config.date_scale = '%Y-%m-%d';\n      gantt.config.subscales = [\n        { unit: 'hour', step: 12, date: '%H:%i' }\n      ];\n      \n      // ÂàóÈÖçÁΩÆ\n      gantt.config.columns = [\n        { name: 'text', label: '‰ªªÂä°ÂêçÁß∞', width: 200, tree: true },\n        { name: 'start_date', label: 'ÂºÄÂßãÊó∂Èó¥', width: 100, align: 'center' },\n        { name: 'duration', label: 'ÊåÅÁª≠Êó∂Èó¥', width: 80, align: 'center' }\n      ];\n      \n      // Â∑•ÂÖ∑ÊèêÁ§∫ÈÖçÁΩÆ\n      gantt.config.tooltip_hide_timeout = 1000;\n      gantt.templates.tooltip_text = (start, end, task) => {\n        if (task.type === 'project') return '';\n        \n        const duration = ((task.end_date - task.start_date) / (1000 * 60 * 60)).toFixed(1);\n        return `\n          <div style=\"padding: 10px; min-width: 200px;\">\n            <strong style=\"font-size: 14px;\">${task.text}</strong><br/>\n            <hr style=\"margin: 5px 0; border: none; border-top: 1px solid #ddd;\"/>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">ÂºÄÂßãÊó∂Èó¥Ôºö</span>\n              <strong>${this.formatDate(task.start_date)}</strong>\n            </div>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">ÁªìÊùüÊó∂Èó¥Ôºö</span>\n              <strong>${this.formatDate(task.end_date)}</strong>\n            </div>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">ÊåÅÁª≠Êó∂Èó¥Ôºö</span>\n              <strong>${duration}Â∞èÊó∂</strong>\n            </div>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">Âõ¢ÈòüÔºö</span>\n              <strong>${task.teamName || ''}</strong>\n            </div>\n            <div style=\"margin: 5px 0;\">\n              <span style=\"color: #666;\">Â∑•‰∫∫Êï∞Ôºö</span>\n              <strong>${task.workers || 0}‰∫∫</strong>\n            </div>\n          </div>\n        `;\n      };\n      \n      // ‰ªªÂä°È¢úËâ≤ÈÖçÁΩÆ\n      gantt.templates.task_class = (start, end, task) => {\n        if (task.type === 'project') return 'gantt_project';\n        return `gantt_task_${task.team}`;\n      };\n      \n      // ÂàùÂßãÂåñ\n      gantt.init(this.$refs.ganttContainer);\n      \n      console.log('‚úÖ DHTMLX Gantt ÂàùÂßãÂåñÂÆåÊàê');\n    },\n    \n    /**\n     * Âä†ËΩΩÊï∞ÊçÆ\n     */\n    loadData() {\n      let ganttData;\n      \n      switch (this.viewMode) {\n        case 'workpoint':\n          ganttData = this.prepareWorkpointView();\n          break;\n        case 'team':\n          ganttData = this.prepareTeamView();\n          break;\n        case 'process':\n          ganttData = this.prepareProcessView();\n          break;\n        default:\n          ganttData = this.prepareWorkpointView();\n      }\n      \n      gantt.clearAll();\n      gantt.parse(ganttData);\n      \n      console.log(`‚úÖ Âä†ËΩΩ${this.viewMode}ËßÜËßíÊï∞ÊçÆÔºåÂÖ±${ganttData.data.length}Êù°`);\n    },\n    \n    /**\n     * Êó∂Èó¥Âçï‰ΩçËΩ¨Êó•Êúü\n     */\n    timeUnitToDate(timeUnit) {\n      const baseDate = new Date('2024-01-01T00:00:00');\n      const hours = timeUnit;\n      baseDate.setHours(baseDate.getHours() + hours);\n      return baseDate;\n    },\n    \n    /**\n     * Ê†ºÂºèÂåñÊó•Êúü\n     */\n    formatDate(date) {\n      if (typeof date === 'string') {\n        date = new Date(date);\n      }\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    \n    /**\n     * Ê£ÄÊµãÂπ∂Ë°å‰ªªÂä°ÔºàÂ§çÁî®‰πãÂâçÁöÑÈÄªËæëÔºâ\n     */\n    detectParallelTasks(tasks) {\n      if (!tasks || tasks.length === 0) return [];\n      \n      const sorted = [...tasks].sort((a, b) => a.start - b.start);\n      const layers = [];\n      const result = [];\n      \n      sorted.forEach(task => {\n        let layerIndex = layers.findIndex(endTime => task.start >= endTime);\n        \n        if (layerIndex === -1) {\n          layerIndex = layers.length;\n          layers.push(task.end);\n        } else {\n          layers[layerIndex] = task.end;\n        }\n        \n        result.push({\n          ...task,\n          layer: layerIndex,\n          totalLayers: 0\n        });\n      });\n      \n      const maxLayer = Math.max(...result.map(t => t.layer));\n      result.forEach(t => t.totalLayers = maxLayer + 1);\n      \n      return result;\n    },\n    \n    /**\n     * ÂáÜÂ§áËÆæÂ§áËßÜËßíÊï∞ÊçÆ\n     */\n    prepareWorkpointView() {\n      const data = [];\n      const links = [];\n      \n      // ÊåâËÆæÂ§áÂàÜÁªÑ\n      const grouped = {};\n      this.testScheduleData.forEach(task => {\n        const wpId = task.workpoint_id;\n        if (!grouped[wpId]) {\n          grouped[wpId] = [];\n        }\n        grouped[wpId].push(task);\n      });\n      \n      // ÁîüÊàêDHTMLXÊï∞ÊçÆ\n      Object.keys(grouped).sort().forEach(wpId => {\n        const wpTasks = grouped[wpId];\n        const wpName = wpTasks[0].workpoint_name;\n        \n        // ËΩ¨Êç¢ÊòæÁ§∫ÂêçÁß∞ÔºöÂ∑•‰ΩúÁÇπX -> ËÆæÂ§áX\n        const displayName = wpName.replace('Â∑•‰ΩúÁÇπ', 'ËÆæÂ§á');\n        \n        // Ê∑ªÂä†Áà∂ËäÇÁÇπÔºàËÆæÂ§áÔºâ\n        data.push({\n          id: wpId,\n          text: displayName,\n          type: 'project',\n          open: true\n        });\n        \n        // Ê£ÄÊµãÂπ∂Ë°å‰ªªÂä°\n        const layered = this.detectParallelTasks(wpTasks);\n        \n        // Ê∑ªÂä†‰ªªÂä°\n        layered.forEach(task => {\n          data.push({\n            id: `task_${task.id}`,\n            text: task.name,\n            start_date: this.formatGanttDate(this.timeUnitToDate(task.start)),\n            end_date: this.formatGanttDate(this.timeUnitToDate(task.end)),\n            duration: ((task.end - task.start) / 24).toFixed(1), // ËΩ¨Êç¢‰∏∫Â§©\n            parent: wpId,\n            team: task.team,\n            teamName: this.teamNames[task.team],\n            workers: task.workers,\n            layer: task.layer,\n            type: 'task'\n          });\n        });\n      });\n      \n      return { data, links };\n    },\n    \n    /**\n     * ÂáÜÂ§áÂõ¢ÈòüËßÜËßíÊï∞ÊçÆ\n     */\n    prepareTeamView() {\n      const data = [];\n      const links = [];\n      \n      // ÊåâÂõ¢ÈòüÂàÜÁªÑ\n      const grouped = {};\n      this.testScheduleData.forEach(task => {\n        const team = task.team;\n        if (!grouped[team]) {\n          grouped[team] = [];\n        }\n        grouped[team].push(task);\n      });\n      \n      // ÁîüÊàêDHTMLXÊï∞ÊçÆ\n      Object.keys(grouped).sort().forEach(team => {\n        const teamTasks = grouped[team];\n        const teamName = this.teamNames[team];\n        \n        // Ê∑ªÂä†Áà∂ËäÇÁÇπÔºàÂõ¢ÈòüÔºâ\n        data.push({\n          id: team,\n          text: teamName,\n          type: 'project',\n          open: true\n        });\n        \n        // Ê£ÄÊµãÂπ∂Ë°å‰ªªÂä°\n        const layered = this.detectParallelTasks(teamTasks);\n        \n        // Ê∑ªÂä†‰ªªÂä°\n        layered.forEach(task => {\n          data.push({\n            id: `task_${task.id}`,\n            text: task.name,\n            start_date: this.formatGanttDate(this.timeUnitToDate(task.start)),\n            end_date: this.formatGanttDate(this.timeUnitToDate(task.end)),\n            duration: ((task.end - task.start) / 24).toFixed(1),\n            parent: team,\n            team: task.team,\n            teamName: this.teamNames[task.team],\n            workers: task.workers,\n            layer: task.layer,\n            type: 'task'\n          });\n        });\n      });\n      \n      return { data, links };\n    },\n    \n    /**\n     * ÂáÜÂ§áÂ∑•Â∫èËßÜËßíÊï∞ÊçÆ\n     */\n    prepareProcessView() {\n      const data = [];\n      const links = [];\n      \n      // ÊåâÂºÄÂßãÊó∂Èó¥ÊéíÂ∫è\n      const sorted = [...this.testScheduleData].sort((a, b) => a.start - b.start);\n      \n      sorted.forEach(task => {\n        data.push({\n          id: `task_${task.id}`,\n          text: task.name,\n          start_date: this.formatGanttDate(this.timeUnitToDate(task.start)),\n          end_date: this.formatGanttDate(this.timeUnitToDate(task.end)),\n          duration: ((task.end - task.start) / 24).toFixed(1),\n          team: task.team,\n          teamName: this.teamNames[task.team],\n          workers: task.workers,\n          type: 'task'\n        });\n      });\n      \n      return { data, links };\n    },\n    \n    /**\n     * Ê†ºÂºèÂåñDHTMLXÊó•Êúü\n     */\n    formatGanttDate(date) {\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hour = String(date.getHours()).padStart(2, '0');\n      const minute = String(date.getMinutes()).padStart(2, '0');\n      return `${year}-${month}-${day} ${hour}:${minute}`;\n    },\n    \n    /**\n     * ÂàáÊç¢ËßÜËßí\n     */\n    switchView() {\n      this.loadData();\n      this.$message.success(`Â∑≤ÂàáÊç¢Âà∞${this.getViewName()}ËßÜËßí`);\n    },\n    \n    /**\n     * Ëé∑ÂèñËßÜËßíÂêçÁß∞\n     */\n    getViewName() {\n      const names = {\n        'workpoint': 'ËÆæÂ§á',\n        'team': 'Âõ¢Èòü',\n        'process': 'Â∑•Â∫è'\n      };\n      return names[this.viewMode] || 'Êú™Áü•';\n    },\n    \n    /**\n     * ÊîπÂèòÁº©ÊîæÁ∫ßÂà´\n     */\n    changeZoom(scale) {\n      switch (scale) {\n        case 'day':\n          gantt.config.scale_unit = 'day';\n          gantt.config.date_scale = '%Y-%m-%d';\n          gantt.config.subscales = [\n            { unit: 'hour', step: 6, date: '%H:%i' }\n          ];\n          break;\n        case 'week':\n          gantt.config.scale_unit = 'week';\n          gantt.config.date_scale = 'Á¨¨%WÂë®';\n          gantt.config.subscales = [\n            { unit: 'day', step: 1, date: '%dÊó•' }\n          ];\n          break;\n        case 'month':\n          gantt.config.scale_unit = 'month';\n          gantt.config.date_scale = '%YÂπ¥%mÊúà';\n          gantt.config.subscales = [\n            { unit: 'week', step: 1, date: 'Á¨¨%WÂë®' }\n          ];\n          break;\n      }\n      gantt.render();\n      this.$message.success(`Â∑≤ÂàáÊç¢Âà∞${scale}ËßÜÂõæ`);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.gantt-test-container {\n  padding: 20px;\n  background: #f5f7fa;\n  min-height: 100vh;\n}\n\n/* È°µÈù¢Â§¥ÈÉ® */\n.page-header {\n  margin-bottom: 20px;\n}\n\n.header-content {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 12px;\n  padding: 30px;\n  color: white;\n}\n\n.page-title {\n  margin: 0 0 8px 0;\n  font-size: 28px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.page-subtitle {\n  margin: 0;\n  opacity: 0.9;\n  font-size: 14px;\n}\n\n/* Â∑•ÂÖ∑Ê†è */\n.toolbar-section {\n  margin-bottom: 20px;\n}\n\n.toolbar-content {\n  display: flex;\n  align-items: center;\n  gap: 30px;\n  flex-wrap: wrap;\n}\n\n.result-selector,\n.view-switch,\n.zoom-controls {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.result-selector label,\n.view-switch label,\n.zoom-controls label {\n  font-weight: 600;\n  color: #606266;\n  white-space: nowrap;\n}\n\n.info-display {\n  margin-left: auto;\n  display: flex;\n  gap: 10px;\n}\n\n/* GanttÂÆπÂô® */\n.gantt-section {\n  margin-bottom: 20px;\n}\n\n.gantt-card {\n  border-radius: 12px;\n}\n\n.gantt-container {\n  width: 100%;\n  height: 600px;\n  position: relative;\n}\n\n/* ‰ø°ÊÅØÂå∫Âüü */\n.info-section {\n  margin-bottom: 20px;\n}\n\n.test-notes {\n  margin-top: 20px;\n  padding: 15px;\n  background: #f0f9ff;\n  border-left: 4px solid #667eea;\n  border-radius: 4px;\n}\n\n.test-notes h4 {\n  margin: 0 0 10px 0;\n  color: #667eea;\n}\n\n.test-notes ul {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.test-notes li {\n  margin: 5px 0;\n  color: #606266;\n}\n\n/* DHTMLX GanttÊ†∑ÂºèÂÆöÂà∂ */\n.gantt-test-container ::v-deep .gantt_task_line {\n  border-radius: 4px;\n}\n\n.gantt-test-container ::v-deep .gantt_project {\n  background-color: #e0e7ff !important;\n  border-color: #667eea !important;\n}\n\n/* Âõ¢ÈòüÈ¢úËâ≤ */\n.gantt-test-container ::v-deep .gantt_task_team1 { background-color: #FF6B35 !important; border-color: #CC5529 !important; }\n.gantt-test-container ::v-deep .gantt_task_team2 { background-color: #EF3950 !important; border-color: #BE2E42 !important; }\n.gantt-test-container ::v-deep .gantt_task_team3 { background-color: #507EF7 !important; border-color: #3F64C8 !important; }\n.gantt-test-container ::v-deep .gantt_task_team4 { background-color: #9B59B6 !important; border-color: #7C4792 !important; }\n.gantt-test-container ::v-deep .gantt_task_team5 { background-color: #00B774 !important; border-color: #009B62 !important; }\n.gantt-test-container ::v-deep .gantt_task_team6 { background-color: #F39C12 !important; border-color: #C27D0E !important; }\n\n.gantt-test-container ::v-deep .gantt_grid_scale {\n  background-color: #667eea;\n  color: white;\n  font-weight: 600;\n}\n\n.gantt-test-container ::v-deep .gantt_task_scale {\n  background-color: #667eea;\n  color: white;\n  font-weight: 600;\n}\n\n.gantt-test-container ::v-deep .gantt_grid_head_cell {\n  color: white;\n}\n</style>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}