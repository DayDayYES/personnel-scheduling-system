{"ast":null,"code":"export default {\n  name: \"MyLogin\",\n  data() {\n    return {\n      confirm_disabled: false,\n      loginForm: {\n        no: '',\n        password: ''\n      },\n      rules: {\n        no: [{\n          required: true,\n          message: '请输入账号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    confirm() {\n      this.confirm_disabled = true;\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          // 后台验证\n          this.$axios.post(this.$httpUrl + '/user/login', this.loginForm).then(res => res.data).then(res => {\n            console.log(res);\n            if (res.code == 200) {\n              sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user));\n              console.log(res.data.menu);\n              this.$store.commit('setMenu', res.data.menu);\n\n              // 成功提示\n              this.$message({\n                message: '登录成功！',\n                type: 'success'\n              });\n\n              // 跳转主页\n              this.$router.replace('/Index');\n            } else {\n              this.confirm_disabled = false;\n              this.$message({\n                message: '登录失败，用户名或密码错误！',\n                type: 'error'\n              });\n            }\n          }).catch(() => {\n            this.confirm_disabled = false;\n            this.$message({\n              message: '网络连接失败，请检查网络后重试！',\n              type: 'error'\n            });\n          });\n        } else {\n          this.confirm_disabled = false;\n          console.log('表单验证失败');\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","confirm_disabled","loginForm","no","password","rules","required","message","trigger","methods","confirm","$refs","validate","valid","$axios","post","$httpUrl","then","res","console","log","code","sessionStorage","setItem","JSON","stringify","user","menu","$store","commit","$message","type","$router","replace","catch"],"sources":["src/components/Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n      <!-- 背景装饰 -->\r\n      <div class=\"background-decoration\">\r\n        <div class=\"floating-circle circle1\"></div>\r\n        <div class=\"floating-circle circle2\"></div>\r\n        <div class=\"floating-circle circle3\"></div>\r\n      </div>\r\n      \r\n      <!-- 登录卡片 -->\r\n      <div class=\"login-card\">\r\n        <!-- 系统Logo和标题 -->\r\n        <div class=\"login-header\">\r\n          <div class=\"logo-container\">\r\n            <el-icon class=\"system-logo\"><el-icon-user-filled /></el-icon>\r\n          </div>\r\n          <h1 class=\"system-title\">人员调度系统</h1>\r\n          <p class=\"system-subtitle\">Personnel Scheduling System</p>\r\n        </div>\r\n        \r\n        <!-- 登录表单 -->\r\n        <div class=\"login-form-container\">\r\n          <el-form \r\n            :model=\"loginForm\" \r\n            :rules=\"rules\" \r\n            ref=\"loginForm\" \r\n            class=\"login-form\"\r\n            size=\"large\">\r\n            \r\n            <el-form-item prop=\"no\">\r\n              <div class=\"input-container\">\r\n                <el-icon class=\"input-icon\"><el-icon-user /></el-icon>\r\n                <el-input \r\n                  v-model=\"loginForm.no\" \r\n                  placeholder=\"请输入账号\"\r\n                  class=\"login-input\"\r\n                  clearable>\r\n                </el-input>\r\n              </div>\r\n            </el-form-item>\r\n            \r\n            <el-form-item prop=\"password\">\r\n              <div class=\"input-container\">\r\n                <el-icon class=\"input-icon\"><el-icon-lock /></el-icon>\r\n                <el-input \r\n                  v-model=\"loginForm.password\" \r\n                  type=\"password\"\r\n                  placeholder=\"请输入密码\"\r\n                  class=\"login-input\"\r\n                  show-password\r\n                  @keyup.enter.native=\"confirm\">\r\n                </el-input>\r\n              </div>\r\n            </el-form-item>\r\n            \r\n            <el-form-item>\r\n              <el-button \r\n                type=\"primary\" \r\n                class=\"login-button\"\r\n                :loading=\"confirm_disabled\"\r\n                @click=\"confirm\">\r\n                <span v-if=\"!confirm_disabled\">登 录</span>\r\n                <span v-else>登录中...</span>\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        \r\n        <!-- 页脚信息 -->\r\n        <div class=\"login-footer\">\r\n          <p>© 2025 宁波市特种设备检查研究院 · 版权所有</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"MyLogin\",\r\n    data() {\r\n      return {\r\n        confirm_disabled: false,\r\n        loginForm: {\r\n          no: '',\r\n          password: ''\r\n        },\r\n        rules: {\r\n          no: [\r\n            { required: true, message: '请输入账号', trigger: 'blur' }\r\n          ],\r\n          password: [\r\n            { required: true, message: '请输入密码', trigger: 'blur' }\r\n          ],\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      confirm() {\r\n        this.confirm_disabled = true;\r\n        this.$refs.loginForm.validate((valid) => {\r\n          if (valid) {\r\n            // 后台验证\r\n            this.$axios.post(this.$httpUrl + '/user/login', this.loginForm)\r\n              .then(res => res.data)\r\n              .then(res => {\r\n                console.log(res)\r\n                if (res.code == 200) {\r\n                  sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user))\r\n                  console.log(res.data.menu);\r\n                  this.$store.commit('setMenu', res.data.menu);\r\n                  \r\n                  // 成功提示\r\n                  this.$message({\r\n                    message: '登录成功！',\r\n                    type: 'success'\r\n                  });\r\n                  \r\n                  // 跳转主页\r\n                  this.$router.replace('/Index');\r\n                } else {\r\n                  this.confirm_disabled = false;\r\n                  this.$message({\r\n                    message: '登录失败，用户名或密码错误！',\r\n                    type: 'error'\r\n                  });\r\n                }\r\n              })\r\n              .catch(() => {\r\n                this.confirm_disabled = false;\r\n                this.$message({\r\n                  message: '网络连接失败，请检查网络后重试！',\r\n                  type: 'error'\r\n                });\r\n              });\r\n          } else {\r\n            this.confirm_disabled = false;\r\n            console.log('表单验证失败');\r\n            return false\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* 整体容器 */\r\n  .login-container {\r\n    position: relative;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: linear-gradient(135deg, rgba(30, 144, 255, 0.8) 0%, rgba(65, 105, 225, 0.9) 100%),\r\n                url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\"><defs><pattern id=\"grid\" width=\"50\" height=\"50\" patternUnits=\"userSpaceOnUse\"><path d=\"M 50 0 L 0 0 0 50\" fill=\"none\" stroke=\"rgba(255,255,255,0.1)\" stroke-width=\"1\"/></pattern></defs><rect width=\"100%\" height=\"100%\" fill=\"%23145a8c\"/><rect width=\"100%\" height=\"100%\" fill=\"url(%23grid)\"/><circle cx=\"200\" cy=\"200\" r=\"100\" fill=\"rgba(255,255,255,0.05)\"/><circle cx=\"800\" cy=\"300\" r=\"150\" fill=\"rgba(255,255,255,0.05)\"/><circle cx=\"300\" cy=\"700\" r=\"80\" fill=\"rgba(255,255,255,0.05)\"/><circle cx=\"700\" cy=\"800\" r=\"120\" fill=\"rgba(255,255,255,0.05)\"/><polygon points=\"100,500 200,400 300,500 200,600\" fill=\"rgba(255,255,255,0.03)\"/><polygon points=\"600,100 750,150 700,300 550,250\" fill=\"rgba(255,255,255,0.03)\"/></svg>');\r\n    background-size: cover;\r\n    background-position: center;\r\n    background-attachment: fixed;\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  /* 背景装饰 */\r\n  .background-decoration {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .floating-circle {\r\n    position: absolute;\r\n    border-radius: 50%;\r\n    background: rgba(255, 255, 255, 0.08);\r\n    animation: float 8s ease-in-out infinite;\r\n    border: 1px solid rgba(255, 255, 255, 0.1);\r\n  }\r\n  \r\n  .circle1 {\r\n    width: 200px;\r\n    height: 200px;\r\n    top: 10%;\r\n    left: 10%;\r\n    animation-delay: 0s;\r\n  }\r\n  \r\n  .circle2 {\r\n    width: 300px;\r\n    height: 300px;\r\n    bottom: 10%;\r\n    right: 10%;\r\n    animation-delay: 3s;\r\n  }\r\n  \r\n  .circle3 {\r\n    width: 150px;\r\n    height: 150px;\r\n    top: 60%;\r\n    left: 5%;\r\n    animation-delay: 6s;\r\n  }\r\n  \r\n  @keyframes float {\r\n    0%, 100% {\r\n      transform: translateY(0px) rotate(0deg);\r\n      opacity: 0.6;\r\n    }\r\n    50% {\r\n      transform: translateY(-30px) rotate(180deg);\r\n      opacity: 0.3;\r\n    }\r\n  }\r\n  \r\n  /* 登录卡片 */\r\n  .login-card {\r\n    background: rgba(255, 255, 255, 0.95);\r\n    backdrop-filter: blur(15px);\r\n    border-radius: 20px;\r\n    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);\r\n    padding: 40px;\r\n    width: 420px;\r\n    max-width: 90vw;\r\n    animation: slideIn 1s ease-out;\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n  }\r\n  \r\n  @keyframes slideIn {\r\n    from {\r\n      opacity: 0;\r\n      transform: translateY(50px) scale(0.9);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateY(0) scale(1);\r\n    }\r\n  }\r\n  \r\n  /* 登录头部 */\r\n  .login-header {\r\n    text-align: center;\r\n    margin-bottom: 40px;\r\n  }\r\n  \r\n  .logo-container {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .system-logo {\r\n    font-size: 64px;\r\n    color: #1e90ff;\r\n    background: linear-gradient(135deg, #1e90ff, #4169e1, #0066cc);\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n    animation: pulse 3s ease-in-out infinite alternate;\r\n    filter: drop-shadow(0 2px 4px rgba(30, 144, 255, 0.3));\r\n  }\r\n  \r\n  @keyframes pulse {\r\n    from { \r\n      transform: scale(1);\r\n      filter: drop-shadow(0 2px 4px rgba(30, 144, 255, 0.3));\r\n    }\r\n    to { \r\n      transform: scale(1.08);\r\n      filter: drop-shadow(0 4px 8px rgba(30, 144, 255, 0.5));\r\n    }\r\n  }\r\n  \r\n  .system-title {\r\n    font-size: 28px;\r\n    color: #1e3a8a;\r\n    margin: 10px 0;\r\n    font-weight: 700;\r\n    text-shadow: 0 2px 4px rgba(30, 58, 138, 0.1);\r\n  }\r\n  \r\n  .system-subtitle {\r\n    color: #64748b;\r\n    font-size: 14px;\r\n    letter-spacing: 1.5px;\r\n    margin: 0;\r\n    font-weight: 500;\r\n  }\r\n  \r\n  /* 表单样式 */\r\n  .login-form-container {\r\n    margin-bottom: 30px;\r\n  }\r\n  \r\n  .input-container {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .input-icon {\r\n    position: absolute;\r\n    left: 18px;\r\n    z-index: 10;\r\n    color: #64748b;\r\n    font-size: 18px;\r\n    transition: color 0.3s ease;\r\n  }\r\n  \r\n  .login-input {\r\n    width: 100%;\r\n  }\r\n  \r\n  .login-input :deep(.el-input__wrapper) {\r\n    padding-left: 50px;\r\n    height: 52px;\r\n    border-radius: 26px;\r\n    border: 2px solid #e2e8f0;\r\n    transition: all 0.3s ease;\r\n    box-shadow: 0 4px 12px rgba(30, 144, 255, 0.08);\r\n    background: rgba(255, 255, 255, 0.9);\r\n  }\r\n  \r\n  .login-input :deep(.el-input__wrapper:hover) {\r\n    border-color: #1e90ff;\r\n    box-shadow: 0 6px 20px rgba(30, 144, 255, 0.15);\r\n    transform: translateY(-1px);\r\n  }\r\n  \r\n  .login-input :deep(.el-input__wrapper.is-focus) {\r\n    border-color: #1e90ff;\r\n    box-shadow: 0 8px 25px rgba(30, 144, 255, 0.2);\r\n    transform: translateY(-1px);\r\n  }\r\n  \r\n  .login-input:focus-within + .input-icon {\r\n    color: #1e90ff;\r\n  }\r\n  \r\n  .login-button {\r\n    width: 100%;\r\n    height: 52px;\r\n    border-radius: 26px;\r\n    background: linear-gradient(135deg, #1e90ff 0%, #4169e1 50%, #0066cc 100%);\r\n    border: none;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    letter-spacing: 1px;\r\n    transition: all 0.4s ease;\r\n    margin-top: 25px;\r\n    box-shadow: 0 6px 20px rgba(30, 144, 255, 0.3);\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .login-button::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: left 0.5s ease;\r\n  }\r\n  \r\n  .login-button:hover {\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 12px 35px rgba(30, 144, 255, 0.4);\r\n  }\r\n  \r\n  .login-button:hover::before {\r\n    left: 100%;\r\n  }\r\n  \r\n  .login-button:active {\r\n    transform: translateY(-1px);\r\n  }\r\n  \r\n  /* 页脚 */\r\n  .login-footer {\r\n    text-align: center;\r\n    color: #64748b;\r\n    font-size: 12px;\r\n    border-top: 1px solid #e2e8f0;\r\n    padding-top: 20px;\r\n    margin-top: 10px;\r\n  }\r\n  \r\n  /* 额外的视觉效果 */\r\n  .login-card::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, #1e90ff, #4169e1, #0066cc, #1e90ff);\r\n    border-radius: 20px 20px 0 0;\r\n  }\r\n  \r\n  /* 响应式设计 */\r\n  @media (max-width: 480px) {\r\n    .login-card {\r\n      padding: 30px 20px;\r\n      margin: 20px;\r\n    }\r\n    \r\n    .system-title {\r\n      font-size: 24px;\r\n    }\r\n    \r\n    .system-logo {\r\n      font-size: 48px;\r\n    }\r\n    \r\n    .login-input :deep(.el-input__wrapper) {\r\n      height: 48px;\r\n      padding-left: 45px;\r\n    }\r\n    \r\n    .login-button {\r\n      height: 48px;\r\n    }\r\n  }\r\n  \r\n  /* 美化滚动条（如果需要） */\r\n  ::-webkit-scrollbar {\r\n    width: 8px;\r\n  }\r\n  \r\n  ::-webkit-scrollbar-track {\r\n    background: rgba(255, 255, 255, 0.1);\r\n  }\r\n  \r\n  ::-webkit-scrollbar-thumb {\r\n    background: rgba(30, 144, 255, 0.5);\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  ::-webkit-scrollbar-thumb:hover {\r\n    background: rgba(30, 144, 255, 0.7);\r\n  }\r\n  </style>"],"mappings":"AA6EA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,gBAAA;MACAC,SAAA;QACAC,EAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,EAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,KAAAT,gBAAA;MACA,KAAAU,KAAA,CAAAT,SAAA,CAAAU,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA;UACA,KAAAC,MAAA,CAAAC,IAAA,MAAAC,QAAA,uBAAAd,SAAA,EACAe,IAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAlB,IAAA,EACAiB,IAAA,CAAAC,GAAA;YACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;YACA,IAAAA,GAAA,CAAAG,IAAA;cACAC,cAAA,CAAAC,OAAA,YAAAC,IAAA,CAAAC,SAAA,CAAAP,GAAA,CAAAlB,IAAA,CAAA0B,IAAA;cACAP,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAlB,IAAA,CAAA2B,IAAA;cACA,KAAAC,MAAA,CAAAC,MAAA,YAAAX,GAAA,CAAAlB,IAAA,CAAA2B,IAAA;;cAEA;cACA,KAAAG,QAAA;gBACAvB,OAAA;gBACAwB,IAAA;cACA;;cAEA;cACA,KAAAC,OAAA,CAAAC,OAAA;YACA;cACA,KAAAhC,gBAAA;cACA,KAAA6B,QAAA;gBACAvB,OAAA;gBACAwB,IAAA;cACA;YACA;UACA,GACAG,KAAA;YACA,KAAAjC,gBAAA;YACA,KAAA6B,QAAA;cACAvB,OAAA;cACAwB,IAAA;YACA;UACA;QACA;UACA,KAAA9B,gBAAA;UACAkB,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}