{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as throttle from '../../util/throttle.js';\nimport DataZoomView from './DataZoomView.js';\nimport { linearMap, asc, parsePercent } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol.js';\nimport { deprecateLog } from '../../util/log.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport tokens from '../../visual/tokens.js';\nvar Rect = graphic.Rect;\n// Constants\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\nvar SliderZoomView = /** @class */function (_super) {\n  __extends(SliderZoomView, _super);\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api;\n    // A unique handler for each dataZoom component\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      this.group.removeAll();\n      return;\n    }\n    // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n    this._updateView();\n  };\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n    this._resetLocation();\n    this._resetInterval();\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n    this._renderBackground();\n    this._renderHandle();\n    this._renderDataShadow();\n    thisGroup.add(barGroup);\n    this._positionGroup();\n  };\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0;\n    var refContainer = layout.createBoxLayoutReference(dataZoomModel, api).refContainer;\n    // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n    var coordRect = this._findCoordRect();\n    var edgeGap = dataZoomModel.get('defaultLocationEdgeGap', true) || 0;\n    // Default align by coordinate system rect.\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: refContainer.width - coordRect.x - coordRect.width,\n      top: refContainer.height - DEFAULT_FILLER_SIZE - edgeGap - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: edgeGap,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    };\n    // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option);\n    // Replace the placeholder value.\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, refContainer);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient;\n    // Just use the first axis to determine mapping.\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse;\n    // Transform barGroup.\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    }\n    // Don't use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    });\n    // Position barGroup\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    }));\n    // Click panel, over shadow, below handles.\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n    barGroup.add(clickPanel);\n  };\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n    this._displayables.dataShadowSegs = [];\n    if (!info) {\n      return;\n    }\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var candlestickDim = seriesModel.getShadowDim && seriesModel.getShadowDim();\n    var otherDim = candlestickDim && data.getDimensionInfo(candlestickDim) ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n    if (otherDim == null) {\n      return;\n    }\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts;\n    // Not re-render if data doesn't change.\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var thisDataExtent_1 = data.getDataExtent(info.thisDim);\n      var otherDataExtent_1 = data.getDataExtent(otherDim);\n      // Nice extent.\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / Math.max(1, data.count() - 1);\n      var normalizationConstant_1 = size[0] / (thisDataExtent_1[1] - thisDataExtent_1[0]);\n      var isTimeAxis_1 = info.thisAxis.type === 'time';\n      var thisCoord_1 = -step_1;\n      // Optimize for large data shadow\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([info.thisDim, otherDim], function (thisValue, otherValue, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          if (!isTimeAxis_1) {\n            thisCoord_1 += step_1;\n          }\n          return;\n        }\n        thisCoord_1 = isTimeAxis_1 ? (+thisValue - thisDataExtent_1[0]) * normalizationConstant_1 : thisCoord_1 + step_1;\n        // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // 应该使用统一的空判断？还是在list里进行空判断？\n        var isEmpty = otherValue == null || isNaN(otherValue) || otherValue === '';\n        // See #4235.\n        var otherCoord = isEmpty ? 0 : linearMap(otherValue, otherDataExtent_1, otherShadowExtent_1, true);\n        // Attempt to draw data shadow precisely when there are empty value.\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n        if (!isEmpty) {\n          areaPoints_1.push([thisCoord_1, otherCoord]);\n          linePoints_1.push([thisCoord_1, otherCoord]);\n        }\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    }\n    // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n      this._displayables.sliderGroup.add(group);\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n    if (showDataShadow === false) {\n      return;\n    }\n    // Find a representative series.\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        var thisDim = seriesModel.getData().mapDimension(axisDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: thisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler);\n    // Frame border.\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: tokens.color.transparent\n      }\n    }));\n    // Left and right handle to resize\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      var handleLabel = dataZoomModel.get('handleLabel') || {};\n      var handleLabelShow = handleLabel.show || false;\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: !handleLabelShow,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this);\n    // Handle to move. Only visible when brushSelect is set true.\n    var actualMoveZone = filler;\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, tokens.color.neutral00, true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: 'default',\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n    var viewExtent = this._getViewExtent();\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n    var viewExtend = this._getViewExtent();\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this);\n    // Filler\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    };\n    // Move handle\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent);\n      // Force update path on the invisible object\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    }\n    // update clip path of shadow.\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n    this._updateDataInfo(nonRealtime);\n  };\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', ''];\n    // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime\n        // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n    var valueStr = value == null || isNaN(value) ? ''\n    // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    })\n    // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param isEmphasis true: show, false: hide\n   */\n  SliderZoomView.prototype._showDataInfo = function (isEmphasis) {\n    var handleLabel = this.dataZoomModel.get('handleLabel') || {};\n    var normalShow = handleLabel.show || false;\n    var emphasisHandleLabel = this.dataZoomModel.getModel(['emphasis', 'handleLabel']);\n    var emphasisShow = emphasisHandleLabel.get('show') || false;\n    // Dragging is considered as emphasis, unless emphasisShow is false\n    var toShow = isEmphasis || this._dragging ? emphasisShow : normalShow;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !toShow);\n    handleLabels[1].attr('invisible', !toShow);\n    // Highlight move handle\n    displayables.moveHandle && this.api[toShow ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true;\n    // For mobile device, prevent screen slider on the button.\n    eventTool.stop(event.event);\n    // Transform dx, dy to bar coordination.\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n    var realtime = this.dataZoomModel.get('realtime');\n    this._updateView(!realtime);\n    // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n    this._showDataInfo(false);\n    // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n    var changed = this._updateInterval('all', localPoint[0] - center);\n    this._updateView();\n    changed && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date();\n    // this._updateBrushRect(x, y);\n  };\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n    if (!brushRect) {\n      return;\n    }\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date();\n    // console.log(brushEndTime - this._brushStartTime);\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n    var viewExtend = this._getViewExtent();\n    var percentExtent = [0, 100];\n    var handleEnds = this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    // Restrict range.\n    sliderMove(0, handleEnds, viewExtend, 0, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    this._updateView();\n    this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid corresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n    return rect;\n  };\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default SliderZoomView;","map":{"version":3,"names":["__extends","bind","each","isFunction","isString","indexOf","eventTool","graphic","throttle","DataZoomView","linearMap","asc","parsePercent","layout","sliderMove","getAxisMainType","collectReferCoordSysModelInfo","enableHoverEmphasis","createSymbol","symbolBuildProxies","deprecateLog","createTextStyle","tokens","Rect","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","DEFAULT_MOVE_HANDLE_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","REALTIME_ANIMATION_CONFIG","easing","duration","delay","SliderZoomView","_super","_this","apply","arguments","type","_displayables","prototype","init","ecModel","api","_onBrush","_onBrushEnd","render","dataZoomModel","payload","createOrUpdate","get","_orient","getOrient","group","removeAll","noTarget","_clear","from","uid","_buildView","_updateView","dispose","clear","zr","getZr","off","thisGroup","_brushing","brushRect","_resetLocation","_resetInterval","barGroup","sliderGroup","Group","_renderBackground","_renderHandle","_renderDataShadow","add","_positionGroup","showMoveHandle","moveHandleSize","refContainer","createBoxLayoutReference","coordRect","_findCoordRect","edgeGap","positionInfo","right","width","x","top","height","y","layoutParams","getLayoutParams","option","name","layoutRect","getLayoutRect","_location","_size","reverse","location","orient","targetAxisModel","getFirstTargetAxisModel","inverse","otherAxisInverse","_dataShadowInfo","attr","scaleY","scaleX","rotation","Math","PI","rect","getBoundingRect","markRedraw","_getViewExtent","size","brushSelect","silent","shape","style","fill","z2","clickPanel","onclick","_onClickPanel","on","_onBrushStart","cursor","info","_prepareDataShadowInfo","dataShadowSegs","oldSize","_shadowSize","seriesModel","series","data","getRawData","candlestickDim","getShadowDim","otherDim","getDimensionInfo","polygonPts","_shadowPolygonPts","polylinePts","_shadowPolylinePts","_shadowData","_shadowDim","thisDataExtent_1","getDataExtent","thisDim","otherDataExtent_1","otherOffset","otherShadowExtent_1","thisShadowExtent","areaPoints_1","linePoints_1","step_1","max","count","normalizationConstant_1","isTimeAxis_1","thisAxis","thisCoord_1","stride_1","round","lastIsEmpty_1","thisValue","otherValue","index","isEmpty","isNaN","otherCoord","push","length","createDataShadowGroup","isSelectedArea","model","getModel","polygon","Polygon","points","segmentIgnoreThreshold","getAreaStyle","polyline","Polyline","getLineStyle","i","showDataShadow","result","eachTargetAxis","axisDim","axisIndex","seriesModels","getAxisProxy","getTargetSeriesModels","getComponent","axis","getOtherDim","coordSys","coordinateSystem","getOtherAxis","getData","mapDimension","displayables","handles","handleLabels","borderRadius","filler","textConfig","position","subPixelOptimize","r","stroke","lineWidth","color","transparent","handleIndex","iconStr","process","env","NODE_ENV","path","getCursor","draggable","drift","_onDragMove","ondragend","_onDragEnd","onmouseover","_showDataInfo","onmouseout","bRect","handleSize","_handleHeight","_handleWidth","setStyle","getItemStyle","strokeNoScale","rectHover","ensureState","handleColor","textStyleModel","handleLabel","handleLabelShow","show","Text","invisible","text","verticalAlign","align","getTextColor","font","getFont","actualMoveZone","moveHandleHeight","moveHandle_1","moveHandle","iconSize","moveHandleIcon","neutral00","moveZoneExpandSize","min","moveZone","enterEmphasis","leaveEmphasis","ondragstart","range","_range","getPercentRange","viewExtent","_handleEnds","_updateInterval","delta","handleEnds","viewExtend","minMaxSpan","findRepresentativeAxisProxy","getMinMaxSpan","percentExtent","minSpan","maxSpan","lastRange","nonRealtime","displaybles","handleInterval","slice","handle","handleHeight","setShape","segIntervals","segGroup","clipPath","getClipPath","setClipPath","_updateDataInfo","labelTexts","axisProxy","getAxisModel","dataInterval","calculateDataWindow","start","end","valueWindow","getDataValueWindow","_formatLabel","orderedHandleEnds","setLabel","call","barTransform","getTransform","parent","direction","transformDirection","offset","textPoint","applyTransform","value","labelFormatter","labelPrecision","getPixelPrecision","valueStr","scale","getLabel","toFixed","replace","isEmphasis","normalShow","emphasisHandleLabel","emphasisShow","toShow","_dragging","dx","dy","event","stop","getLocalTransform","vertex","changed","realtime","_dispatchZoomAction","e","localPoint","transformCoordToLocal","offsetX","offsetY","center","_brushStart","Point","_brushStartTime","Date","brushShape","brushEndTime","abs","_updateBrushRect","mouseX","mouseY","brushStart","endPoint","startPoint","dispatchAction","dataZoomId","id","animation","coordSysInfoList","infoList","getRect","getWidth","getHeight","map","radius","angle"],"sources":["D:/Program Files/JetBrains/IDEAProject/springboot-vue-wms_test/vuedemo2/node_modules/echarts/lib/component/dataZoom/SliderZoomView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as throttle from '../../util/throttle.js';\nimport DataZoomView from './DataZoomView.js';\nimport { linearMap, asc, parsePercent } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol.js';\nimport { deprecateLog } from '../../util/log.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport tokens from '../../visual/tokens.js';\nvar Rect = graphic.Rect;\n// Constants\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\nvar SliderZoomView = /** @class */function (_super) {\n  __extends(SliderZoomView, _super);\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api;\n    // A unique handler for each dataZoom component\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      this.group.removeAll();\n      return;\n    }\n    // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n    this._updateView();\n  };\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n    this._resetLocation();\n    this._resetInterval();\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n    this._renderBackground();\n    this._renderHandle();\n    this._renderDataShadow();\n    thisGroup.add(barGroup);\n    this._positionGroup();\n  };\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0;\n    var refContainer = layout.createBoxLayoutReference(dataZoomModel, api).refContainer;\n    // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n    var coordRect = this._findCoordRect();\n    var edgeGap = dataZoomModel.get('defaultLocationEdgeGap', true) || 0;\n    // Default align by coordinate system rect.\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: refContainer.width - coordRect.x - coordRect.width,\n      top: refContainer.height - DEFAULT_FILLER_SIZE - edgeGap - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: edgeGap,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    };\n    // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option);\n    // Replace the placeholder value.\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, refContainer);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient;\n    // Just use the first axis to determine mapping.\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse;\n    // Transform barGroup.\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    }\n    // Don't use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    });\n    // Position barGroup\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    }));\n    // Click panel, over shadow, below handles.\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n    barGroup.add(clickPanel);\n  };\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n    this._displayables.dataShadowSegs = [];\n    if (!info) {\n      return;\n    }\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var candlestickDim = seriesModel.getShadowDim && seriesModel.getShadowDim();\n    var otherDim = candlestickDim && data.getDimensionInfo(candlestickDim) ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n    if (otherDim == null) {\n      return;\n    }\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts;\n    // Not re-render if data doesn't change.\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var thisDataExtent_1 = data.getDataExtent(info.thisDim);\n      var otherDataExtent_1 = data.getDataExtent(otherDim);\n      // Nice extent.\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / Math.max(1, data.count() - 1);\n      var normalizationConstant_1 = size[0] / (thisDataExtent_1[1] - thisDataExtent_1[0]);\n      var isTimeAxis_1 = info.thisAxis.type === 'time';\n      var thisCoord_1 = -step_1;\n      // Optimize for large data shadow\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([info.thisDim, otherDim], function (thisValue, otherValue, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          if (!isTimeAxis_1) {\n            thisCoord_1 += step_1;\n          }\n          return;\n        }\n        thisCoord_1 = isTimeAxis_1 ? (+thisValue - thisDataExtent_1[0]) * normalizationConstant_1 : thisCoord_1 + step_1;\n        // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // 应该使用统一的空判断？还是在list里进行空判断？\n        var isEmpty = otherValue == null || isNaN(otherValue) || otherValue === '';\n        // See #4235.\n        var otherCoord = isEmpty ? 0 : linearMap(otherValue, otherDataExtent_1, otherShadowExtent_1, true);\n        // Attempt to draw data shadow precisely when there are empty value.\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n        if (!isEmpty) {\n          areaPoints_1.push([thisCoord_1, otherCoord]);\n          linePoints_1.push([thisCoord_1, otherCoord]);\n        }\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    }\n    // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n      this._displayables.sliderGroup.add(group);\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n    if (showDataShadow === false) {\n      return;\n    }\n    // Find a representative series.\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        var thisDim = seriesModel.getData().mapDimension(axisDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: thisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler);\n    // Frame border.\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: tokens.color.transparent\n      }\n    }));\n    // Left and right handle to resize\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      var handleLabel = dataZoomModel.get('handleLabel') || {};\n      var handleLabelShow = handleLabel.show || false;\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: !handleLabelShow,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this);\n    // Handle to move. Only visible when brushSelect is set true.\n    var actualMoveZone = filler;\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, tokens.color.neutral00, true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: 'default',\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n    var viewExtent = this._getViewExtent();\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n    var viewExtend = this._getViewExtent();\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this);\n    // Filler\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    };\n    // Move handle\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent);\n      // Force update path on the invisible object\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    }\n    // update clip path of shadow.\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n    this._updateDataInfo(nonRealtime);\n  };\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', ''];\n    // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime\n        // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n    var valueStr = value == null || isNaN(value) ? ''\n    // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    })\n    // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param isEmphasis true: show, false: hide\n   */\n  SliderZoomView.prototype._showDataInfo = function (isEmphasis) {\n    var handleLabel = this.dataZoomModel.get('handleLabel') || {};\n    var normalShow = handleLabel.show || false;\n    var emphasisHandleLabel = this.dataZoomModel.getModel(['emphasis', 'handleLabel']);\n    var emphasisShow = emphasisHandleLabel.get('show') || false;\n    // Dragging is considered as emphasis, unless emphasisShow is false\n    var toShow = isEmphasis || this._dragging ? emphasisShow : normalShow;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !toShow);\n    handleLabels[1].attr('invisible', !toShow);\n    // Highlight move handle\n    displayables.moveHandle && this.api[toShow ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true;\n    // For mobile device, prevent screen slider on the button.\n    eventTool.stop(event.event);\n    // Transform dx, dy to bar coordination.\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n    var realtime = this.dataZoomModel.get('realtime');\n    this._updateView(!realtime);\n    // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n    this._showDataInfo(false);\n    // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n    var changed = this._updateInterval('all', localPoint[0] - center);\n    this._updateView();\n    changed && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date();\n    // this._updateBrushRect(x, y);\n  };\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n    if (!brushRect) {\n      return;\n    }\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date();\n    // console.log(brushEndTime - this._brushStartTime);\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n    var viewExtend = this._getViewExtent();\n    var percentExtent = [0, 100];\n    var handleEnds = this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    // Restrict range.\n    sliderMove(0, handleEnds, viewExtend, 0, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    this._updateView();\n    this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid corresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n    return rect;\n  };\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default SliderZoomView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}